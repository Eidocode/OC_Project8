{% extends 'products/base.html' %}

{% block content %}

{% load static %}

<header class="page-section sign">
    <div class="container h-100">
        <div class="row align-items-center justify-content-center text-center">
            <div class="col-lg-8 text-center">
                <h3 class="mt-0">{{ title }}</h3>
                <hr class="divider my-3" />
            </div>

            <!-- Portfolio-->
            <div id="portfolio" class="mt-2 mb-4">
                <div class="container-fluid p-0">
                    <div class="row no-gutters">

                    {% if products|length_is:"0" %}
                        <div class="text-center">
                            Nous n'avons malheureusement trouvé aucun résultat à cette requête...
                        </div>

                    {% else %}
                        {% for product in products %}
                        
                            <div width="180" height="200" class="py-1 px-1 col-lg-4 col-sm-6">
                                <a class="portfolio-box bg-thumbs shadow rounded-lg border border-white" href={% url 'result' product_id=product.id %}>
                                    <img class="img my-4 rounded-lg shadow"  width="180" height="200" src={{ product.url_img }} alt="" />
                                    <div class="portfolio-box-caption">
                                        <div class="project-category text-white-50">{{ product.brand }}</div>
                                        <div class="project-name">{{ product.name }}</div>
                                        <h1 class="font-weight-bold pt-2">{{ product.score|upper }}</h1>
                                    </div>
                                </a>
                            </div>
                        
                        {% endfor %}
                    {% endif %}

                    </div>
                </div>
            </div>
        </div>

        {% if paginate %}
            <div>
                <div class="clearfix"></div>
                <nav aria-label="Search results pages">
                    <ul class="pagination justify-content-center">
                        {% if products.has_previous %}
                            <li class="page-item rounded-lg shadow"><a class="page-link" href="{{ request.get_full_path }}&page={{ products.previous_page_number }}"><<</a></li>
                        {% else %}
                            <li class="page-item disabled rounded-lg shadow"><a class="page-link" href=""><<</a></li>
                        {% endif %}
                        <li class="page-item disabled rounded-lg shadow"><a class="page-link">- Page +</a></li>
                        {% if products.has_next %}
                            <li class="page-item rounded-lg shadow"><a class="page-link" href="{{ request.get_full_path }}&page={{ products.next_page_number }}">>></a></li>
                        {% else %}
                            <li class="page-item disabled rounded-lg shadow"><a class="page-link" href="">>></a></li>
                        {% endif %}
                    </ul>
                </nav>
            </div>
        {% endif %}
    </div>
</header>

{% endblock content %}
